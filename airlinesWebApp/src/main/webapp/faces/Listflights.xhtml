<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:head>
	<title>List Flights</title>
</h:head>
<h:body>
	<h:dataTable value="#{flightService.allFlight}" var="fl" border="2"
		cellpadding="2" cellspacing="2">
		<h:column>
			<f:facet name="header">
				<h:outputText value="id"></h:outputText>
			</f:facet>
			<h:outputText value="#{fl.id}"></h:outputText>
		</h:column>
		<h:column>
			<f:facet name="header">
				<h:outputText value="Flight Number"></h:outputText>
			</f:facet>
			<h:outputText value="#{fl.flightnr}"></h:outputText>
		</h:column>
		<h:column>
			<f:facet name="header">
				<h:outputText value="Departure Date"></h:outputText>
			</f:facet>
			<h:outputText value="#{fl.departureDate}"></h:outputText>
		</h:column>
		<h:column>
			<f:facet name="header">
				<h:outputText value="Departure Time"></h:outputText>
			</f:facet>
			<h:outputText value="#{fl.departureTime}"></h:outputText>
		</h:column>
		<h:column>
			<f:facet name="header">
				<h:outputText value="Arrival Date"></h:outputText>
			</f:facet>
			<h:outputText value="#{fl.arrivalDate}"></h:outputText>
		</h:column>
		<h:column>
			<f:facet name="header">
				<h:outputText value="Arrival Time"></h:outputText>
			</f:facet>
			<h:outputText value="#{fl.arrivalTime}"></h:outputText>
		</h:column>
		<h:column>
			<f:facet name="header">
				<h:outputText value="Airline"></h:outputText>
			</f:facet>
			<h:dataTable value="#{airlineService.findByFlight(fl)}" var="air"
				border="2" cellpadding="2" cellspacing="2">
				<h:column>
					<f:facet name="header">
						<h:outputText value="id"></h:outputText>
					</f:facet>
					<h:outputText value="#{air.id}"></h:outputText>
				</h:column>
				<h:column>
					<f:facet name="header">
						<h:outputText value="Name"></h:outputText>
					</f:facet>
					<h:outputText value="#{air.name}"></h:outputText>
				</h:column>
			</h:dataTable>
		</h:column>
		<h:column>
			<f:facet name="header">
				<h:outputText value="Origin Airport"></h:outputText>
			</f:facet>
			<h:dataTable value="#{airportService.findByDeparture(fl)}" var="dep"
				border="2" cellpadding="2" cellspacing="2">
				<h:column>
					<f:facet name="header">
						<h:outputText value="code"></h:outputText>
					</f:facet>
					<h:outputText value="#{dep.airportcode}"></h:outputText>
				</h:column>
				<h:column>
					<f:facet name="header">
						<h:outputText value="Name"></h:outputText>
					</f:facet>
					<h:outputText value="#{dep.name}"></h:outputText>
				</h:column>
			</h:dataTable>
		</h:column>
		<h:column>
			<f:facet name="header">
				<h:outputText value="Destination Airport"></h:outputText>
			</f:facet>
			<h:dataTable value="#{airportService.findByArrival(fl)}" var="des"
				border="2" cellpadding="2" cellspacing="2">
				<h:column>
					<f:facet name="header">
						<h:outputText value="code"></h:outputText>
					</f:facet>
					<h:outputText value="#{des.airportcode}"></h:outputText>
				</h:column>
				<h:column>
					<f:facet name="header">
						<h:outputText value="Name"></h:outputText>
					</f:facet>
					<h:outputText value="#{des.name}"></h:outputText>
				</h:column>
			</h:dataTable>
		</h:column>
		<h:column>
			<f:facet name="header">
				<h:outputText value="AirPlane"></h:outputText>
			</f:facet>
			<h:dataTable value="#{airplaneService.findByFlight(fl)}" var="plane"
				border="2" cellpadding="2" cellspacing="2">
				<h:column>
					<f:facet name="header">
						<h:outputText value="Model"></h:outputText>
					</f:facet>
					<h:outputText value="#{plane.model}"></h:outputText>
				</h:column>
				<h:column>
					<f:facet name="header">
						<h:outputText value="Capacity"></h:outputText>
					</f:facet>
					<h:outputText value="#{plane.capacity}"></h:outputText>
				</h:column>
			</h:dataTable>
		</h:column>
	</h:dataTable>
	<h:link value="Return" outcome="/index.xhtml" />
</h:body>
</html>

